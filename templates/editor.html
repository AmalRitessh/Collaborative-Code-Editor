<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>c++ Text Editor</title>

    <!-- CodeMirror CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/theme/material-darker.min.css">

    <style>

    .CodeMirror {
        font-size: 20px; /* Adjust this value to increase or decrease text size */
    }
        body {
        margin: 0;
        font-family: Arial, sans-serif;

        }
        #editorDiv {
            display: flex;
            width: 100%;
          
        }
        #sidebar {
            width: 150px;
            background-color: #2c3e50;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: stretch;
            padding: 10px 0;

        }
        .tab {
            padding: 15px;
            text-align: center;
            cursor: pointer;
            border-bottom: 1px solid #34495e;
        }
        .tab:hover {
            background-color: #34495e;
        }
        .tab.active {
            background-color: #1abc9c;
        }
        #ioAreaDiv {
            flex: 1;
            padding: 10px;
            border: 1px solid #ccc;
            height: 100;

        }
        #textAreaDiv {
            flex: 2;
            padding: 10px;
            border: 1px solid #ccc;
            min-width: 300px;

        }

        #popup {
            position: absolute;
            display: none;
            background-color: white;
            border: 1px solid #ccc;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            padding: 10px;
        }

        .hidden {
            display: none;
        }
        .retracted {
            flex-grow: 0;
            pointer-events: none;
            display: none;
            
        }
        textarea, select, button {
            display: block;
            width: 100%;
            margin-bottom: 10px;
        }
        #ioAreaDiv, #textAreaDiv {
            transition:  width 0.3s ease, opacity 0.3s ease;
            overflow: hidden;
        }


        #top {
            position: absolute;
            top: 0;
            width: 100%;
            height: 10%;
            padding: 10px;
            text-align: center;
        }

        #bottom {
            position: absolute;
            bottom: 0;
            width: 100%;
            padding: 10px;
            display: flex;
            height: 88%;
        }

        #download{
            position: absolute;
            bottom: 0;
            width: 100%;
            padding: 10px;
            display: flex;
            height: 100;

        }
    </style>
    
</head>

<body>

    
    
    
    <!-- Create TextArea -->
    
 <div id="editorDiv">
    <div id="top">
        <h1>Editor</h1> 
    </div>
    <div id = bottom>

        <div id="sidebar">
            <div class="tab active" onclick="toggleTab('file')"><img src="/static/img/open-folder.png" style = "width: 30px;"></div>
            <div class="tab" onclick="toggleTab('run')"><img src="/static/img/play.png" style = "width: 30px;"></div>
            <div class="tab" onclick="toggleTab('users')"><img src="/static/img/person.png" style = "width: 30px;"></div>
        </div>

        <div id="ioAreaDiv">

            <div id="file" class="content">
                <button onclick="createFile()">file</button>
                <button id="download "onclick="downloadFile()">download</button> 
                <div id="file1" class="tab active" onclick="toggleEditor('editor1')" oncontextmenu="popupMenu(event)" >
                    index.py
                </div>
            </div>

            <div id="run" class="content hidden">
                <button onclick="fetchData()">Run</button>
                <p>Input:</p>
                <textarea id="inputArea" name="inputArea" rows="10" cols="10"></textarea>
                <p>Output:</p>
                <textarea id="outputArea" name="outputArea" rows="10" cols="10"></textarea>
            </div>

            <div id="users" class="content hidden">
                <p>This is the Users Tab content. Add user-related functionality here.</p>
                <a href="{{ url_for('index')}}">home</a>
            </div>

        </div>

        <div id="textAreaDiv">

            <div id="editor1">
                <textarea id="textEditor1" rows="100" cols="100">#hello1</textarea>
            </div>

        </div>
        </div>
    </div>
    <div id="popup" class="popup">
        <button onclick="deleteFile()">Delete</button>
        <button onclick="renameFile()">Rename</button>
    </div>

    <!-- CodeMirror JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/mode/clike/clike.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/mode/python/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/addon/edit/closebrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/addon/edit/matchbrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.6.1/socket.io.js"></script>
    <script src="{{ url_for('static', filename ='js/script.js') }}"></script>

</body>
</html>
